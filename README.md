# air-alarm
Уведомляет о воздушной тревоге, реагируя на сообщения в соответствующем Telegram канале

## Инсталяция
1. Во первых, вам потребуется установить Python3. Его можно скачать по [ссылке](https://www.python.org/).
2. Запустите консоль. Для этого необходимо нажать Win+R и в появившемся окошке написать cmd и нажать enter.
3. Далее выполняем следующие команды
```
git clone https://github.com/erioh/air-alarm.git
cd air-alarm
pip install -r requirements.txt
```
4. Переходим по ссылке [https://my.telegram.org/](https://my.telegram.org/), вводим свой номер телефона (в формате +380) и код авторизации, который вы получите в Telegram.
5. Кликаем по ссылке "API development tools" и в появившемся окне пишем любой App title и Short name, какой вам понравится.
6. Переходим далее, и в качестве результата мы получим api_id и api_hash
<br><h2>Передавать кому-либо их строго возбраняется! С помощью этой информации можно полностью контролировать ваш Telegram</h2></br>

## Использование
1. Открываем файл `app-config.properties` в текстовом редакторе и указываем свои api_id и api_hash в соответствующие поля
2. Сохраняем файл и запускаем бота командой `python main.py` в той же командной строке.
3. Вводим свой номер телефона и нажимаем enter.
4. Вводим код, который вы получите в свой Telegram и вновь нажимаете enter.
<br>Шаги 3 и 4 надо будет выполнить только при первом запуске бота.</br>
<br>Чтобы использовать другой аккаунт, вам потребуется удалить session_name.session и перезапустить бота. В этом случае шаги 3 и 4 придётся снова пройти.</br>
<br>На данный момент приложение будет слушать только канал Днепра `sirena_dp`, и ожидать конкретные сообщения. В будущем это будет изменено.</br>
<br>Правильно работающее приложение будет проигрывать аудиофайл `audio.wav` в цикле при получении сообщения `усім пройти в укриття` и выключать его при получении сообщения `ВІДБІЙ ТРИВОГИ`.</br>
## Безопасность Telegram аккаунта
Во время настройки бота вам потребуется указать код входа в Telegram дважды. Один раз на [https://my.telegram.org/](https://my.telegram.org/) и второй раз для модуля [telethon](https://github.com/LonamiWebs/Telethon).

